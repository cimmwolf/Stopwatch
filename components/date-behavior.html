<script>
  DateMixin = (superClass) => class extends superClass {
    humanize(duration, mode) {
      if (mode == null) {
        mode = 'verbose';
      }
      if (!moment.isDuration(duration)) {
        duration = moment.duration(duration);
      }
      let units = ['ч.', 'мин.', 'сек.'];
      let timeString = '';
      let ref = [duration.hours(), duration.minutes(), duration.seconds()];
      for (let index = 0, i = 0, len = ref.length; i < len; index = ++i) {
        let value = ref[index];
        let unit = units.shift();
        if (value > 0 || (mode === 'verbose' && timeString !== '')) {
          timeString += value + ' ' + unit;
          if (index < 2) {
            timeString += ' ';
          }
        }
        if (index === 2 && timeString === '') {
          timeString = '00 ' + unit;
        }
      }
      return timeString;
    }
  }
</script>
